<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="icon" type="image/png" href="../assets/img/AKORY (3) - Copy.png">
  <title>
    AKORY-HOTEL-ADMIN
  </title>

  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
  <link href="../assets/css/nucleo-icons.css" rel="stylesheet" />
  <link href="../assets/css/nucleo-svg.css" rel="stylesheet" />
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link href="../assets/css/nucleo-svg.css" rel="stylesheet" />
  <link rel="stylesheet" href="../assets/css/dropomenu.css">
  <link id="pagestyle" href="../assets/css/soft-ui-dashboard.css?v=1.0.7" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
  <script defer data-site="YOUR_DOMAIN_HERE" src="https://api.nepcha.com/js/nepcha-analytics.js"></script>

  <script src="../js/scrollmenus.js" defer></script>
  <script src="../js/crud.js" defer></script>
  <script src="../assets/js/core/axios.min.js" defer></script>

</head>

<body class="sidenav-show  bg-gray-100">
  <aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3 "
    id="sidenav-main">
    <div class="sidenav-header">
      <a class="m-0" href=" hotel.html ">
        <img src="../assets/img/AKORY (3) - Copy.png" class="h-200 logo " alt="main_logo">

      </a>
    </div>
    <hr class="horizontal dark mt-0">

    <div class="sidebar descend" id="sidebar">
      <div class="sidebar-inner slimscroll">
        <div id="sidebar-menu" class="sidebar-menu">
          <ul>
            <li class="active"> <a href="dashboard.html"><i class="fas fa-columns"></i>
                <span> Tableau de bord </span></a> </li>
            <li class="list-divider"></li>
            <li class="submenu"> <a href="#"></i> <i class="bi-people"></i> <span> Clients </span> <span
                  class="menu-arrow"></span></a>
              <ul class="submenu_class none">
                <li><a href="allClient.html"> Tous les clients </a></li>
                <li><a href="addClient.html"> Ajouter </a></li>
                <li><a href="updateClient.html"> Modifier </a></li>
              </ul>
            </li>
            <li class="submenu"> <a href="#"><i class="fas fa-book"></i> <span> Réservation </span> <span
                  class="menu-arrow"></span></a>
              <ul class="submenu_class none">
                <li><a href="allBook.html"> Toutes les réservations </a></li>
                <li><a href="addBook.html"> Ajouter </a></li>
                <li><a href="updateBook.html"> Modifier </a></li>
              </ul>
            </li>
            <li class="submenu"> <a href="#"><i class="bi-door-open"></i> <span> Chambres </span> <span
                  class="menu-arrow"></span></a>
              <ul class="submenu_class none">
                <li><a href="allRooms.html"> Tous les chambres </a></li>
                <li><a href="addRooms.html"> Ajouter </a></li>
                <li><a href="updateRoom.html"> Modifier </a></li>
              </ul>
            </li>
            <li class="submenu"> <a href="#"><i class="bi-person-badge"></i> <span> Employees </span> <span
                  class="menu-arrow"></span></a>
              <ul class="submenu_class none">
                <li><a href="allEmployee.html"> Tous les employees </a></li>
                <li><a href="addEmployee.html"> Ajouter </a></li>
                <li><a href="updateEmployee.html"> Supprimer </a></li>
              </ul>
            </li>
            </li>
            <li class="submenu"> <a href="#"><i class="bi-cash"></i> <span> Comptes </span>
                <span class="menu-arrow"></span></a>
              <ul class="submenu_class none">
                <li><a href="payment.html"> Paiements </a></li>
                <li><a href="modePayement.html"> Méthodes de paiements</a></li>
              </ul>
            </li>

            <li class="submenu"> <a href="#"><i class="bi-cash"></i> <span> Offres </span>
                <span class="menu-arrow"></span></a>
              <ul class="submenu_class none">
                <li><a href="promotion.html"> Promotions </a></li>
                <li><a href="offreSaisonner.html"> Offes Saisonner</a></li>
              </ul>
            </li>

            <li class="submenu"> <a href="#"><i class="bi-cash"></i> <span> Hotel </span>
                <span class="menu-arrow"></span></a>
              <ul class="submenu_class none">
                <li><a href="allHotel.html"> Tous les hotels </a></li>
                <li><a href="addHotel.html"> Ajouter </a></li>
              </ul>
            </li>

            <li class="submenu"> <a href="services.html"><i class="bi bi-display"></i> <span> Services </span></a>
            </li>

            <li class="submenu"> <a href="offres.html"><i class="bi bi-display"></i> <span> Offres </span></a>
            </li>
          </ul>
        </div>
      </div>
    </div>

  </aside>


  <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg ">
    <div class="container position-sticky z-index-sticky top-0">
      <div class="row">
        <div class="col-12">
          <!-- Navbar -->
          <nav
            class="navbar navbar-expand-lg blur blur-rounded top-0 z-index-3 shadow position-absolute my-3 py-2 start-0 end-0 mx-4">
            <div class="container">
              <a class="navbar-brand font-weight-bolder ms-lg-0 ms-3 text-dark" href="../pages/dashboard.html">
                AKORY HOTEL
              </a>
              <button class="navbar-toggler shadow-none ms-2" type="button" data-bs-toggle="collapse"
                data-bs-target="#navigation" aria-controls="navigation" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon mt-2">
                  <span class="navbar-toggler-bar bar1"></span>
                  <span class="navbar-toggler-bar bar2"></span>
                  <span class="navbar-toggler-bar bar3"></span>
                </span>
              </button>
              <div class="collapse navbar-collapse" id="navigation">
                <ul class="navbar-nav mx-auto ms-xl-auto me-xl-7">
                  <li class="nav-item">
                    <a class="nav-link d-flex align-items-center me-2 active" aria-current="page"
                      href="../pages/dashboard.html">
                      <i class="fa fa-chart-pie opacity-6  me-1"></i>
                      Tableau de bord
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link me-2" href="profile.html">
                      <i class="fa fa-user opacity-6  me-1"></i>
                      Profile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link me-2" href="sign-up.html">
                      <i class="fas fa-user-circle opacity-6  me-1"></i>
                      Inscrivez-vous
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link me-2" href="sign-in.html">
                      <i class="fas fa-key opacity-6  me-1"></i>
                      Connecter
                    </a>
                  </li>
                </ul>
                <li class="nav-item d-flex align-items-center">
                  <a class="btn btn-round btn-sm mb-0 btn-outline-primary me-2" target="_blank" href="votreCompte.html">
                    Votre compte </a>
                </li>
                <ul class="navbar-nav d-lg-block d-none">
                  <li class="nav-item">
                    <a href="enSavoirPlus.html" class="btn btn-sm btn-round mb-0 me-1 bg-gradient-dark"> En savoir plus
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
          <!-- End Navbar -->
        </div>
      </div>
    </div>
    <!-- VOUS POUVEZ CREER LA FORMULAIRE ICI -->
    <div class="container descend2">
      <div class="row justify-content-center">
        <div class="col-lg-6">
          <div class="card">
            <div class="card-header bg-gradient-primary text-white">
              Rechercher chambre
            </div>
            <div class="card-body">

              <form action="/execute-query" method="post" id="queryForm">
                <div class="row mb-3">
                  <div class="col-md-6">
                    <label for="hotel_name" class="form-label">Nom de l'hôtel</label>
                    <input type="text" class="form-control" id="hotel_name" name="hotel_name" required>
                  </div>
                </div>
                <div class="row mb-3">
                  <div class="col-md-6">
                    <label for="room_type" class="form-label">Type de chambre</label>
                    <input type="text" class="form-control" id="room_type" name="room_type" required>
                  </div>
                </div>
                <button type="submit" class="btn btn-primary"> Rechercher </button>
              </form>


            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="resultContainer" style="display: none;">
      <h2>Résultat de la Recherche</h2>
      <table id="resultTable">
        <thead>
          <tr>
            <th>ID de la Chambre</th>
            <th>Type de Chambre</th>
            <th>Nom de l'hotel</th>
          </tr>
        </thead>
        <tbody id="resultBody"></tbody>
      </table>
    </div>
  </main>

  <script>
    const form = document.getElementById('queryForm');
    const resultContainer = document.getElementById('resultContainer');
    const resultBody = document.getElementById('resultBody');

    form.addEventListener('submit', async (event) => {
      event.preventDefault();
      const hotelName = document.getElementById('hotel_name').value;
      const roomType = document.getElementById('room_type').value;
      try {
        const response = await fetch('/execute-query', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ hotelName, roomType })
        });

        if (response.ok) {
          const data = await response.json();
          // Afficher les résultats dans le tableau
          resultBody.innerHTML = '';
          data.forEach(room => {
            const rowElement = document.createElement('tr');
            rowElement.innerHTML = `
          <td>${room.id_room}</td>
          <td>${room.room_type}</td>
          <td>${room.hotel_name}</td>
        `;
            resultBody.appendChild(rowElement);
          });
          // Afficher les résultats
          resultContainer.style.display = 'block';
        } else {
          console.error('La requête a échoué avec le statut :', response.status);
        }
      } catch (error) {
        console.error('Erreur lors de l\'exécution de la requête :', error);
      }
    });

  </script>


  <script src="../assets/js/core/popper.min.js"></script>
  <script src="../assets/js/core/bootstrap.min.js"></script>
  <script src="../assets/js/plugins/perfect-scrollbar.min.js"></script>
  <script src="../assets/js/plugins/smooth-scrollbar.min.js"></script>
  <script src="../assets/js/plugins/drop.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <script src="../assets/js/soft-ui-dashboard.min.js?v=1.0.7"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>


</body>

</html>